import{c as y,m as V,d as f,u as P,a as r,w as B,e as x,r as w,n as A,b as N,f as D,B as E,g as G,_ as j,N as q,G as F,h as R,i as g,j as i,k as _,F as h,o as c,l as k,p as C,t as K,q as O,s as U}from"./index.25338a1d.js";import{g as Y,a as z}from"./kind.e2d072c5.js";const[$,H]=y("sidebar"),I=Symbol($),J={modelValue:V(0)};var M=f({name:$,props:J,emits:["change","update:modelValue"],setup(e,{emit:t,slots:o}){const{linkChildren:l}=P(I),n=()=>+e.modelValue;return l({getActive:n,setActive:s=>{s!==n()&&(t("update:modelValue",s),t("change",s))}}),()=>{var s;return r("div",{role:"tablist",class:H()},[(s=o.default)==null?void 0:s.call(o)])}}});const Q=B(M),[T,L]=y("sidebar-item"),W=x({},w,{dot:Boolean,title:String,badge:A,disabled:Boolean,badgeProps:Object});var X=f({name:T,props:W,emits:["click"],setup(e,{emit:t,slots:o}){const l=N(),{parent:n,index:d}=D(I);if(!n)return;const s=()=>{e.disabled||(t("click",d.value),n.setActive(d.value),l())};return()=>{const{dot:p,badge:b,title:m,disabled:u}=e,a=d.value===n.getActive();return r("div",{role:"tab",class:L({select:a,disabled:u}),tabindex:u?void 0:0,"aria-selected":a,onClick:s},[r(E,G({dot:p,class:L("text"),content:b},e.badgeProps),{default:()=>[o.title?o.title():m]})])}}});const Z=B(X);const ee=f({data(){return{active:0,categoryList:[],brandList:[]}},mounted(){Y().then(e=>{this.categoryList=e.data.data,this.getCategoryBrandList(e.data.data[0])})},methods:{getCategoryBrandList(e){z({category:e}).then(t=>{console.log(t.data),this.brandList=t.data.data})},toSearchList(e){this.$router.push("/result?category="+this.categoryList[this.active]+"&brand="+e)}}});const te=e=>(O("data-v-54ab39bc"),e=e(),U(),e),ae={class:"header"},se=te(()=>i("span",{class:"title"},"\u5546\u54C1\u5206\u7C7B",-1)),ne={class:"content"},oe={class:"box"},ie={class:"brandList"},re={class:"brandname van-ellipsis"};function de(e,t,o,l,n,d){const s=q,p=Z,b=Q,m=F,u=R;return c(),g(h,null,[i("header",ae,[r(s,{"left-arrow":"",onClickLeft:t[0]||(t[0]=a=>e.$router.back())},{title:_(()=>[se]),_:1})]),i("div",ne,[i("div",oe,[r(b,{modelValue:e.active,"onUpdate:modelValue":t[1]||(t[1]=a=>e.active=a)},{default:_(()=>[(c(!0),g(h,null,k(e.categoryList,(a,v)=>(c(),C(p,{key:v,title:a,onClick:S=>e.getCategoryBrandList(a)},null,8,["title","onClick"]))),128))]),_:1},8,["modelValue"]),i("div",ie,[r(u,{square:!0},{default:_(()=>[(c(!0),g(h,null,k(e.brandList,(a,v)=>(c(),C(m,{key:v,icon:"photo-o",onClick:S=>e.toSearchList(a.brand)},{text:_(()=>[i("div",re,K(a.brand),1)]),_:2},1032,["onClick"]))),128))]),_:1})])])])],64)}const ue=j(ee,[["render",de],["__scopeId","data-v-54ab39bc"]]);export{ue as default};
